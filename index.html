<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Responsive design -->
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap + JQuery + Flot + Gyro -->
    <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet">
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7/jquery.js"></script>
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
    <script src="jquery.flot.js"></script>
    <script src="gyro.js"></script>
</head>
 
<body>
 
<div class="container">
 <!-- container starts here -->

<div id="content">
    <ul id="tabs" class="nav nav-tabs" data-tabs="tabs">
        <li class="active"><a href="#home" data-toggle="tab">...</a></li>
        <li><a href="#observe" data-toggle="tab">Observe</a></li>
        <li class="ride"><a href="#ride" data-toggle="tab">Ride</a></li>
    </ul>
    <div id="my-tab-content" class="tab-content">
        <div class="tab-pane active" id="home">
            <h1>Home page</h1>
            <p>This will describe home page stuff.</p>
        </div>
        <div class="tab-pane" id="observe">
            <h1>Observe</h1>
            <p>OMG ponies, let's observe them.</p>
        </div>
        <div class="tab-pane" id="ride">
            <h1>Ride</h1>
            <p>OMG ponies, let's ride them.</p>
            <div id="sensor_data"></div>
        </div>
    </div>
</div>
 
 
<script type="text/javascript">
    jQuery(document).ready(function ($) {
        $('#tabs').tab();
        $("li.ride").click(sensorTest);
        //$("li.observe").click(sensorPlot);
    });
</script>  

<script type="text/javascript">
function sensorTest(){
    // Set up data collection with column titles
    var sensorData = [];
    sensorData.push(['milliseconds', 'x', 'y', 'z', 'alpha', 'beta', 'gamma']); 
    console.log("sensor test");
    if(window.DeviceMotionEvent==undefined){
        document.getElementById("sensor_data").innerHTML = "Sorry, no sensor data found."
    }
    else { 
        gyro.frequency = 10; // 10 ms = 100 Hz
        milliseconds = 0;
        gyro.startTracking(function(o) {
            // o.x, o.y, o.z for accelerometer
            // o.alpha, o.beta, o.gamma for gyro
            document.getElementById("sensor_data").innerHTML = 
                "x: " + o.x + "<br/>" 
                + "y: " + o.y + "<br/>" 
                + "z: " + o.z + "<br/>" 
                + "alpha: " + o.alpha + "<br/>" 
                + "beta: " + o.beta + "<br/>" 
                + "gamma: " + o.gamma;
            sensorData.push([milliseconds, o.x, o.y, o.z, o.alpha, o.beta, o.gamma]);
            console.log(sensorData[-1]);
            milliseconds = milliseconds + gyro.frequency;
        });
    }
}
</script>

</div>
<!-- container ends here -->
 
 

 
</body>
</html>